!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=a("reqwest");b.exports=function(a,b){return a.data=a.form,a.type=a.type||"json",a.error=function(a){b(a)},a.success=function(a){var c=a.self||a;b(null,c,c)},c(a)}},{reqwest:12}],2:[function(a,b){var c=a("./helpers/defaults"),d=a("extend"),e=a("url-join"),f=a("./http"),g=b.exports=function(a){this.hooks={pre:function(a){a()}},this.options={host:"",path:"",headers:{},_endpoints:{}},a||(a={}),a.userDefined||(a.userDefined={}),c(a.userDefined.hooks,this.hooks),d(this.options,a),d(this,a.userDefined),this.http=new f({context:this,headers:this.options.headers,hooks:this.hooks})},h=a("./entity");g.prototype.url=function(){return e(this.options.host,this.options.path)},g.prototype.one=function(a,b){var c=new h({_endpoints:this.options._endpoints,host:this.options.host,path:e("/",this.options.path),headers:this.options.headers,userDefined:b||{},id:a,api:this.options.api});return c},g.prototype.list=function(a){return this.http.request(this.url(),"GET",function(b,c,d){a&&a(b,d)})},g.prototype.create=function(a,b){var c={form:a};return this.http.request(this.url(),"POST",c,function(a,c,d){b&&b(a,d)})},g.prototype.getEndpoint=function(a,b){var c=b?a+b:a;return this.options._endpoints[c]}},{"./entity":3,"./helpers/defaults":4,"./http":5,extend:8,"url-join":13}],3:[function(a,b){var c=a("./http"),d=a("url-join"),e=a("./helpers/defaults"),f=a("extend"),g=b.exports=function(a){this.hooks={pre:function(a){a()}},this.options={host:"",path:"",headers:{},id:0,_endpoints:{}},a||(a={}),a.userDefined||(a.userDefined={}),e(a.userDefined.hooks,this.hooks),f(this.options,a),f(this,a.userDefined),this.http=new c({context:this,headers:this.options.headers,hooks:this.hooks})},h=a("./narrator");g.prototype.endpoint=function(a,b){var c=new h({id:this.options.id,host:this.url(),headers:this.options.headers,_endpoints:this.options._endpoints});return c.endpoint(a,b)},g.prototype.url=function(){return d(this.options.host,this.options.path,this.options.id)},g.prototype.get=function(a){return this.http.request(this.url(),"GET",function(b,c,d){a&&a(b,d)})},g.prototype.update=function(a,b){var c={form:a};return this.http.request(this.url(),"PUT",c,function(a,c,d){b&&b(a,d)})},g.prototype.remove=function(a){return this.http.request(this.url(),"DELETE",function(b,c,d){a&&a(b,d)})},g.prototype.getEndpoint=function(a,b){var c=b?a+b:a;return this.options._endpoints[c]}},{"./helpers/defaults":4,"./http":5,"./narrator":6,extend:8,"url-join":13}],4:[function(a,b){b.exports=function(a,b){return a=a||{},Object.keys(b).forEach(function(c){"undefined"==typeof a[c]&&(a[c]=b[c])}),a}},{}],5:[function(a,b){var c=a("__browserify_process"),d=a("extend"),e=a("./helpers/defaults"),f=a("request"),g=a("promise"),h=b.exports=function(a){function b(a){return a.options.context.options&&a.options.context.options.api&&a.options.context.options.api.promise}this.options={headers:{},hooks:{},context:{}},d(this.options,a),this.promise=b(this)?this.options.context.options.api.promise:function(a){return new g(a)}};h.prototype.setHeaders=function(a){this.options.headers=a},h.prototype.setHeader=function(a,b){this.options.headers[a]=b},h.prototype.removeHeader=function(a){delete this.options.headers[a]},h.prototype._parseJSON=function(a){try{a=JSON.parse(a)}catch(b){}finally{return a}},h.prototype._promiseWrap=function(a){return new g(a)},h.prototype._request=f,h.prototype._http=function(a,b,c,d){var f=this;"function"==typeof c&&(d=c,c={}),"undefined"==typeof d&&(d=function(){});var g={url:a,method:b};return g=e(c,g),this._promiseWrap(function(a,b){f._request(g,function(c,e,g){var h=f._parseJSON(g);c?b(c):a(h),d(c,e,h)})})},h.prototype.request=function(a,b,e,f){var g=this;"function"==typeof e&&(f=e,e={});var h={},i={};return d(h,{headers:this.options.headers},e),d(i,h,{path:a,method:b}),this._promiseWrap(function(d,e){c.nextTick(function(){var c=g.options.hooks&&g.options.hooks.pre?g.options.hooks.pre:function(a){a()};c.call(g.options.context,function(){g._http(a,b,h,f).then(d,e)})})})}},{"./helpers/defaults":4,__browserify_process:7,extend:8,promise:10,request:1}],6:[function(a,b){var c=a("extend"),d=a("url-join"),e=(a("promise"),b.exports=function(a){a=a||{},this._endpoints={},this.host="/",c(this,a)});e.Http=a("./http");var f=a("./endpoint");e.prototype.endpoint=function(a,b){var c=this.id?a+this.id:a;if(!(c in this._endpoints)){var e=new f({host:this.host,path:d("/",a),headers:this.headers,userDefined:b||{},_endpoints:this._endpoints,api:this});this._endpoints[c]=e}return this._endpoints[c]}},{"./endpoint":2,"./http":5,extend:8,promise:10,"url-join":13}],7:[function(a,b){var c=b.exports={};c.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){if(a.source===window&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var b=c.shift();b()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),c.title="browser",c.browser=!0,c.env={},c.argv=[],c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")}},{}],8:[function(a,b){function c(a){if(!a||"[object Object]"!==e.call(a)||a.nodeType||a.setInterval)return!1;var b=d.call(a,"constructor"),c=d.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var f;for(f in a);return void 0===f||d.call(a,f)}var d=Object.prototype.hasOwnProperty,e=Object.prototype.toString;b.exports=function f(){var a,b,d,e,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[1]||{},j=2),"object"!=typeof i&&"function"!=typeof i&&(i={});k>j;j++)if(null!=(a=arguments[j]))for(b in a)d=i[b],e=a[b],i!==e&&(l&&e&&(c(e)||(g=Array.isArray(e)))?(g?(g=!1,h=d&&Array.isArray(d)?d:[]):h=d&&c(d)?d:{},i[b]=f(l,h,e)):void 0!==e&&(i[b]=e));return i}},{}],9:[function(a,b){"use strict";function c(a){function b(a){return null===k?(n.push(a),void 0):(e(function(){var b=k?a.onFulfilled:a.onRejected;if(null===b)return(k?a.resolve:a.reject)(m),void 0;var c;try{c=b(m)}catch(d){return a.reject(d),void 0}a.resolve(c)}),void 0)}function f(a){l||g(a)}function g(a){if(null===k)try{if(a===o)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var b=a.then;if("function"==typeof b)return l=!0,b.call(a,g,i),void 0}k=!0,m=a,j()}catch(c){i(c)}}function h(a){l||i(a)}function i(a){null===k&&(k=!1,m=a,j())}function j(){for(var a=0,c=n.length;c>a;a++)b(n[a]);n=null}if(!(this instanceof c))return new c(a);if("function"!=typeof a)throw new TypeError("not a function");var k=null,l=!1,m=null,n=[],o=this;this.then=function(a,e){return new c(function(c,f){b(new d(a,e,c,f))})};try{a(f,h)}catch(p){h(p)}}function d(a,b,c,d){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.resolve=c,this.reject=d}var e=a("./lib/next-tick");b.exports=c},{"./lib/next-tick":11}],10:[function(a,b){"use strict";var c=a("./core.js"),d=a("./lib/next-tick");b.exports=c,c.from=function(a){return a instanceof c?a:new c(function(b){b(a)})},c.denodeify=function(a){return function(){var b=this,d=Array.prototype.slice.call(arguments);return new c(function(c,e){d.push(function(a,b){a?e(a):c(b)}),a.apply(b,d)})}},c.nodeify=function(a){return function(){var b=Array.prototype.slice.call(arguments),e="function"==typeof b[b.length-1]?b.pop():null;try{return a.apply(this,arguments).nodeify(e)}catch(f){if(null==e)return new c(function(a,b){b(f)});d(function(){e(f)})}}},c.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&Array.isArray(arguments[0])?arguments[0]:arguments);return new c(function(b,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return h.call(g,function(a){d(f,a)},c),void 0}a[f]=g,0===--e&&b(a)}catch(i){c(i)}}if(0===a.length)return b([]);for(var e=a.length,f=0;f<a.length;f++)d(f,a[f])})},c.prototype.done=function(){var a=arguments.length?this.then.apply(this,arguments):this;a.then(null,function(a){d(function(){throw a})})},c.prototype.nodeify=function(a){return null==a?this:(this.then(function(b){d(function(){a(null,b)})},function(b){d(function(){a(b)})}),void 0)}},{"./core.js":9,"./lib/next-tick":11}],11:[function(a,b){var c=a("__browserify_process");b.exports="function"==typeof setImmediate?function(a){setImmediate(a)}:"undefined"!=typeof c&&c&&"function"==typeof c.nextTick?function(a){c.nextTick(a)}:function(a){setTimeout(a,0)}},{__browserify_process:7}],12:[function(require,module,exports){!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("reqwest",this,function(){function handleReadyState(a,b,c){return function(){return a._aborted?c(a.request):(a.request&&4==a.request[readyState]&&(a.request.onreadystatechange=noop,twoHundo.test(a.request.status)?b(a.request):c(a.request)),void 0)}}function setHeaders(a,b){var c,d=b.headers||{};d.Accept=d.Accept||defaultHeaders.accept[b.type]||defaultHeaders.accept["*"],b.crossOrigin||d[requestedWith]||(d[requestedWith]=defaultHeaders.requestedWith),d[contentType]||(d[contentType]=b.contentType||defaultHeaders.contentType);for(c in d)d.hasOwnProperty(c)&&"setRequestHeader"in a&&a.setRequestHeader(c,d[c])}function setCredentials(a,b){"undefined"!=typeof b.withCredentials&&"undefined"!=typeof a.withCredentials&&(a.withCredentials=!!b.withCredentials)}function generalCallback(a){lastValue=a}function urlappend(a,b){return a+(/\?/.test(a)?"&":"?")+b}function handleJsonp(a,b,c,d){var e=uniqid++,f=a.jsonpCallback||"callback",g=a.jsonpCallbackName||reqwest.getcallbackPrefix(e),h=new RegExp("((^|\\?|&)"+f+")=([^&]+)"),i=d.match(h),j=doc.createElement("script"),k=0,l=-1!==navigator.userAgent.indexOf("MSIE 10.0");return i?"?"===i[3]?d=d.replace(h,"$1="+g):g=i[3]:d=urlappend(d,f+"="+g),win[g]=generalCallback,j.type="text/javascript",j.src=d,j.async=!0,"undefined"==typeof j.onreadystatechange||l||(j.event="onclick",j.htmlFor=j.id="_reqwest_"+e),j.onload=j.onreadystatechange=function(){return j[readyState]&&"complete"!==j[readyState]&&"loaded"!==j[readyState]||k?!1:(j.onload=j.onreadystatechange=null,j.onclick&&j.onclick(),b(lastValue),lastValue=void 0,head.removeChild(j),k=1,void 0)},head.appendChild(j),{abort:function(){j.onload=j.onreadystatechange=null,c({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(j),k=1}}}function getRequest(a,b){var c,d=this.o,e=(d.method||"GET").toUpperCase(),f="string"==typeof d?d:d.url,g=d.processData!==!1&&d.data&&"string"!=typeof d.data?reqwest.toQueryString(d.data):d.data||null,h=!1;return"jsonp"!=d.type&&"GET"!=e||!g||(f=urlappend(f,g),g=null),"jsonp"==d.type?handleJsonp(d,a,b,f):(c=xhr(d),c.open(e,f,d.async===!1?!1:!0),setHeaders(c,d),setCredentials(c,d),win[xDomainRequest]&&c instanceof win[xDomainRequest]?(c.onload=a,c.onerror=b,c.onprogress=function(){},h=!0):c.onreadystatechange=handleReadyState(this,a,b),d.before&&d.before(c),h?setTimeout(function(){c.send(g)},200):c.send(g),c)}function Reqwest(a,b){this.o=a,this.fn=b,init.apply(this,arguments)}function setType(a){var b=a.match(/\.(json|jsonp|html|xml)(\?|$)/);return b?b[1]:"js"}function init(o,fn){function complete(a){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(a)}function success(resp){resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=win.JSON?win.JSON.parse(r):eval("("+r+")")}catch(err){return error(resp,"Could not parse JSON in response",err)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function error(a,b,c){for(a=self.request,self._responseArgs.resp=a,self._responseArgs.msg=b,self._responseArgs.t=c,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(a,b,c);complete(a)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this,type=o.type||setType(this.url);fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){self.abort()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(a,b){return new Reqwest(a,b)}function normalize(a){return a?a.replace(/\r?\n/g,"\r\n"):""}function serial(a,b){var c,d,e,f,g=a.name,h=a.tagName.toLowerCase(),i=function(a){a&&!a.disabled&&b(g,normalize(a.attributes.value&&a.attributes.value.specified?a.value:a.text))};if(!a.disabled&&g)switch(h){case"input":/reset|button|image|file/i.test(a.type)||(c=/checkbox/i.test(a.type),d=/radio/i.test(a.type),e=a.value,(!(c||d)||a.checked)&&b(g,normalize(c&&""===e?"on":e)));break;case"textarea":b(g,normalize(a.value));break;case"select":if("select-one"===a.type.toLowerCase())i(a.selectedIndex>=0?a.options[a.selectedIndex]:null);else for(f=0;a.length&&f<a.length;f++)a.options[f].selected&&i(a.options[f])}}function eachFormElement(){var a,b,c=this,d=function(a,b){var d,e,f;for(d=0;d<b.length;d++)for(f=a[byTag](b[d]),e=0;e<f.length;e++)serial(f[e],c)};for(b=0;b<arguments.length;b++)a=arguments[b],/input|select|textarea/i.test(a.tagName)&&serial(a,c),d(a,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var a={};return eachFormElement.apply(function(b,c){b in a?(a[b]&&!isArray(a[b])&&(a[b]=[a[b]]),a[b].push(c)):a[b]=c},arguments),a}function buildParams(a,b,c,d){var e,f,g,h=/\[\]$/;if(isArray(b))for(f=0;b&&f<b.length;f++)g=b[f],c||h.test(a)?d(a,g):buildParams(a+"["+("object"==typeof g?f:"")+"]",g,c,d);else if(b&&"[object Object]"===b.toString())for(e in b)buildParams(a+"["+e+"]",b[e],c,d);else d(a,b)}var win=window,doc=document,twoHundo=/^(20\d|1223)$/,byTag="getElementsByTagName",readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",head=doc[byTag]("head")[0],uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(a){return a instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(a){if(a.crossOrigin===!0){var b=win[xmlHttpRequest]?new XMLHttpRequest:null;if(b&&"withCredentials"in b)return b;if(win[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return win[xmlHttpRequest]?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(a){return a}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(a,b){return a=a||function(){},b=b||function(){},this._fulfilled?this._responseArgs.resp=a(this._responseArgs.resp):this._erred?b(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(a),this._errorHandlers.push(b)),this},always:function(a){return this._fulfilled||this._erred?a(this._responseArgs.resp):this._completeHandlers.push(a),this},fail:function(a){return this._erred?a(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(a),this}},reqwest.serializeArray=function(){var a=[];return eachFormElement.apply(function(b,c){a.push({name:b,value:c})},arguments),a},reqwest.serialize=function(){if(0===arguments.length)return"";var a,b,c=Array.prototype.slice.call(arguments,0);return a=c.pop(),a&&a.nodeType&&c.push(a)&&(a=null),a&&(a=a.type),b="map"==a?serializeHash:"array"==a?reqwest.serializeArray:serializeQueryString,b.apply(null,c)},reqwest.toQueryString=function(a,b){var c,d,e=b||!1,f=[],g=encodeURIComponent,h=function(a,b){b="function"==typeof b?b():null==b?"":b,f[f.length]=g(a)+"="+g(b)};if(isArray(a))for(d=0;a&&d<a.length;d++)h(a[d].name,a[d].value);else for(c in a)a.hasOwnProperty(c)&&buildParams(c,a[c],e,h);return f.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(a,b){return a&&(a.type&&(a.method=a.type)&&delete a.type,a.dataType&&(a.type=a.dataType),a.jsonpCallback&&(a.jsonpCallbackName=a.jsonpCallback)&&delete a.jsonpCallback,a.jsonp&&(a.jsonpCallback=a.jsonp)),new Reqwest(a,b)},reqwest.ajaxSetup=function(a){a=a||{};for(var b in a)globalSetupOptions[b]=a[b]},reqwest})},{}],13:[function(a,b){function c(a){return a.replace(/[\/]+/g,"/").replace(/\/\?/g,"?").replace(/\/\#/g,"#").replace(/\:\//g,"://")}b.exports=function(){var a=[].slice.call(arguments,0).join("/");return c(a)}},{}]},{},[6]);